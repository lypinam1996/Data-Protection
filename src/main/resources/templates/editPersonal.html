<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Add personal</title>
    <link href="https://fonts.googleapis.com/css?family=Dosis" rel="stylesheet"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"/>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</head>
<body style="font-family: Arial;background-color: #f7f9f9">
<div class="wrapper" style="margin-bottom: 30px">
    <div class="container " style="margin-top: 50px" >
        <div class="row" style="border: 2px">
            <div class="col-sm-2"><img  th:src="@{/img/logo.png}" alt="logo" width="100" height="100"/></div>
            <div class="col-sm-6" style="margin-top: 40px"><span style="font-weight:bold">ВОРОНЕЖСКАЯ ОБЛАСТЬ</span></div>
            <div class="col-sm-3" style="margin-top: 10px">
                <nav class="navbar navbar-light" style="margin-top: 10px;margin-left: 55px">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Меню
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown" style="padding: 7%">
                        <form th:action="@{/home}" method="get">
                            <button style="background-color: white;border: none;outline: none" type="submit">На главную</button>
                        </form>
                        <form class="form-inline" th:action="@{/logout}" method="post">
                            <button type="submit" style="background-color: white;border: none;outline: none">Выход</button>
                        </form>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</div>
<div class="container" style="margin-top: 40px">
    <div class="row">
        <div class="col-sm-2"></div>
        <div class="col-sm-7" style=" border: 3px  solid gainsboro; padding: 4%;background-color: white">
            <h3 align="center">Сведения об информационной системе персональных данных и (или) отдельных её частях.</h3>
            <span th:utext="${successMessage}"></span>
            <form autocomplete="off" th:action="@{/editPersonal}"
                  th:object="${personal}" method="post" class="form-horizontal"
                  role="form">
                <div class="form-group">
                    <input type="text" th:field="*{title}" placeholder="Наименование ИСПДн"
                           required="required"     class="form-control"/>
                </div>
                <div class="form-group">
                    <input type="hidden" th:field="*{user.login}"
                           placeholder="Следующий год" class="form-control" required="required" />
                </div>
                <div class="form-group">
                <input type="hidden" th:field="*{idPersonalInformationSystem}" class="form-control"  />
            </div>
                <div class="form-group">
                    ИСПДн является государственной (муниципальной) системой?
                    <select class="form-control" th:field="*{yesnoByIdYesNo}" placeholder="Класс защищённости">
                        <option th:each="yesnoByIdYesNo:${yesno}" th:value="${{yesnoByIdYesNo}}" th:text="${yesnoByIdYesNo.title}">
                        </option>
                    </select>
                </div>
                <div class="form-group">
                    <input type="text" th:field="*{operator}" required="required"
                           placeholder="Наименование оператора ИСПДн" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="text" th:field="*{purpose}" required="required"
                           placeholder="Цель обработки персональных данных" class="form-control"  />
                </div>
                <div class="form-group">Ответственный за обеспечение безопасности персональных данных в ГИС	системе	(сотрудник	или	подразделение)</div>
                <input type="radio" name="switch-div_kotoriy_menayetsa" value="1" th:text="Сотрудник"/>
                <input type="radio" name="switch-div_kotoriy_menayetsa" value="0" checked="checked" th:text="Подразделение"/>
                <div id="div_kotoriy_menayetsa">
                    <div class="form-group">
                        <input type="text" th:field="*{name}" required="required"
                               placeholder="Имя сотрудника" class="form-control"  />
                    </div>
                    <div class="form-group">
                        <input type="text" th:field="*{surname}" th:value="''" required="required"
                               placeholder="Фамилия сотрудника" class="form-control"  />
                    </div>
                    <div class="form-group">
                        <input type="text" th:field="*{patronimyc}" required="required"
                               placeholder="Отчество сотрудника" class="form-control"  />
                    </div>
                    <div class="form-group">
                        <input type="text" th:field="*{post}" required="required"
                               placeholder="Должность сотрудника" class="form-control"  />
                    </div></div>
                <div id="div_kotoriy_menayetsa2">
                    <div class="form-group">
                        <input type="text" th:field="*{subdivision}" required="required"
                               placeholder="Наименование подразделения" class="form-control"  />
                    </div></div>

                <div class="form-group">
                    <input type="text" th:field="*{phone}" required="required"
                           placeholder="Контактный телефон" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="email" th:field="*{email}" required="required"
                           placeholder="e-mail" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="text" th:field="*{legalAct}" required="required"
                           placeholder="Правовой акт о возложении обязанностей (название)" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="text" th:field="*{number}" required="required"
                           placeholder="Номер акта" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="date" th:field="*{dateAct}" required="required"
                           placeholder="Дата" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="text" th:field="*{legalActAboutCreating}" required="required"
                           placeholder="Нормативно правовой акт о создании ГИС (название)" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="text" th:field="*{numberAboutCreating}" required="required"
                           placeholder="Номер" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="date" th:field="*{dateAboutCreating}" required="required"
                           placeholder="Дата" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="text" th:field="*{legalActAboutExploitation}" required="required"
                           placeholder="Нормативно правовой акт о порядке и сроках ввода в эксплуатацию ГИС (название)" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="text" th:field="*{numberAboutExploitation}" required="required"
                           placeholder="Номер" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="date" th:field="*{dateAboutExploitation}" required="required"
                           placeholder="Дата" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="date" th:field="*{commissioning}" required="required"
                           placeholder="Дата ввода в эксплуатацию" class="form-control"  />
                </div>
                <div class="form-group">
                    Категории обрабатываемых данных
                    <select class="form-control" th:field="*{personaldataByIdPersonalData}" placeholder="Класс защищённости">
                        <option th:each="data:${data}" th:value="${{data}}" th:text="${data.title}">
                        </option>
                    </select>
                </div>
                <div class="form-group">
                    <input type="text" th:field="*{cryptoProtection}" required="required"
                           placeholder="Тип криптозащиты" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="text" th:field="*{separateParts}" required="required"
                           placeholder="Сведения об отдельных частях ГИС" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="text" th:field="*{legalActRegister}" required="required"
                           placeholder="Включение в Pеестр операторов, осуществляющих обработку персональных данных " class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="text" th:field="*{numberRegister}" required="required"
                           placeholder="Номер" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="date" th:field="*{dateRegister}" required="required"
                           placeholder="Дата" class="form-control"  />
                </div>
                <div class="form-group">
                    Категории субъектов, персональные данные которых обрабатываются
                    <select class="form-control" th:field="*{categoryofsubjectByIdCategoryOfSubject}" placeholder="Класс защищённости">
                        <option th:each="category:${category}" th:value="${{category}}" th:text="${category.title}">
                        </option>
                    </select>
                </div>
                <div class="form-group">
                    Количество субъектов персональных данных
                    <select class="form-control" th:field="*{countsubjectsByIdCountSubjects}" placeholder="Класс защищённости">
                        <option th:each="coount:${coount}" th:value="${{coount}}" th:text="${coount.title}">
                        </option>
                    </select>
                </div>
                <div class="form-group">
                    Тип актуальных угроз безопасности
                    <select class="form-control" th:field="*{typethreatByIdTypeThreat}" placeholder="Класс защищённости">
                        <option th:each="types:${types}" th:value="${{types}}" th:text="${types.title}">
                        </option>
                    </select>
                </div>
                <div class="form-group">
                    Уровень защищённости персональных данных, который необходимо обеспечить при их обработке в ИСПДн
                    <select class="form-control" th:field="*{securitylevelByIdSecuritylevel}" placeholder="Класс защищённости">
                        <option th:each="level:${level}" th:value="${{level}}" th:text="${level.title}">
                        </option>
                    </select>
                </div>
                <div class="form-group">
                    Использование в ИСПДн шифровальных (криптографических) средств информации
                    <select class="form-control" th:field="*{yesnoByIdyesno2}" placeholder="Класс защищённости">
                        <option th:each="yesno:${yesno}" th:value="${{yesno}}" th:text="${yesno.title}">
                        </option>
                    </select>
                </div>
                <div class="form-group">Модель угроз безопасности информации</div>
                <div class="form-group">
                    <input type="text" th:field="*{threatsResults}" required="required"
                           placeholder="Результаты рассмотрения ФСТЕК РФ" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="date" th:field="*{threatsResultsDate}" required="required"
                           placeholder="Дата" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="text" th:field="*{threatsResultsNumber}" required="required"
                           placeholder="Номер" class="form-control"  />
                </div>
                <div class="form-group">Оценка эффективности реализованных в рамках системы защиты персональных данных мер по обеспечению безопасности персональных данных в ГИС</div>
                <input type="radio" name="switch-div_kotoriy_menayetsa2" value="1" th:text="Лицензиатом"/>
                <input type="radio" name="switch-div_kotoriy_menayetsa2" value="0" checked="checked" th:text="Самостоятельно"/>

                <div class="form-group">
                    <input type="date" th:field="*{dateOfAttestation}" required="required"
                           placeholder="Дата проведения" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="text" th:field="*{actAttestation}" required="required"
                           placeholder="Наименование документа" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="text" th:field="*{actNumberAttestation}" required="required"
                           placeholder="Номер" class="form-control"  />
                </div>
                <div class="form-group">
                    <input type="date" th:field="*{actDateAttestation}" required="required"
                           placeholder="Дата" class="form-control"  />
                </div>
                <div id="div_kotoriy_menayetsa3">
                    <div class="form-group">
                        <input type="text" th:field="*{attestationName}" required="required"
                               placeholder="Наименование привлечённого лицензиата" class="form-control"  />
                    </div>
                    <div class="form-group">
                        <input type="text" th:field="*{attestation}" required="required"
                               placeholder="Лицензия на осуществление деятельности по технической защите конфиденциальной информации" class="form-control"  />
                    </div>
                    <div class="form-group">
                        <input type="text" th:field="*{attestationNumberLisence}" required="required"
                               placeholder="Номер" class="form-control"  />
                    </div>
                    <div class="form-group">
                        <input type="date" th:field="*{attestationDate}"  required="required"
                               placeholder="Дата" class="form-control"  />
                    </div></div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary btn-block">Редактировать</button>
                </div>

            </form>
        </div>
    </div>
</div>
<script>

    $('input[type=radio][name=switch-div_kotoriy_menayetsa]').change(function() {
        $('#div_kotoriy_menayetsa').toggle(
            $('input[type=radio][name=switch-div_kotoriy_menayetsa]:checked').val() == 1 ? true : false);
    })
        .change();
    $('input[type=radio][name=switch-div_kotoriy_menayetsa]').change(function() {
        $('#div_kotoriy_menayetsa2').toggle(
            $('input[type=radio][name=switch-div_kotoriy_menayetsa]:checked').val() == 0 ? true : false);
    })
        .change();
    $('input[type=radio][name=switch-div_kotoriy_menayetsa2]').change(function() {
        $('#div_kotoriy_menayetsa3').toggle(
            $('input[type=radio][name=switch-div_kotoriy_menayetsa2]:checked').val() == 1 ? true : false);
    })
        .change();


</script>


</body>



</html>